export const gameMasterResponses = {
  opening: `ðŸ‰ **Welcome to the Realm of Eldoria!**

You awaken in the **Weathered Ale House**, a cozy tavern with warm firelight flickering against the stone walls. Rain batters the windows in heavy sheets, and outside, thick mist rolls over the cobblestone streets. The smell of hearth smoke and spiced ale fills the air.

You're nursing a drink at a worn wooden table when a *hooded figure* slides into the seat across from you. The candlelight catches the edge of their face, revealing *silver scars* running along their neck. Their voice is low and urgent.

"You there. You have the look of someone who knows how to survive. I have a propositionâ€”one that could change everything."

On the table between you, they slide an **ancient map**, worn and stained with age. Strange symbols mark a location deep in the Forbidden Forest. Before they can say more, you notice armored guards entering the tavern, their black cloaks marking them as members of the Shadow Order.

**What do you do?**`,

  shadowGuardianRespect: `The shadow creature circles once more, then something *impossible* happens. Its form shimmers like heat waves, and for just a moment, you seeâ€”a woman? A spirit? Something caught between worlds, ancient and lonely.

A voice, like wind through dead leaves, touches your mind: *"Seekers of truth. The temple awaits. But bewareâ€”the Shadow Order is not your only enemy. Dark forces stir in the depths."*

The creature's form solidifies briefly, and you see gratitude in those golden eyes.

The shadow creature dissolves into mist, reforming into a luminous path of glowing stones that stretches deeper into the forest.

Kael stands slowly, awe written across their face. "I've traveled these lands for years. I've never seen one of the Guardians do that. You passed the testâ€”the forest itself acknowledges you as worthy."

*Relationship with Forest Spirits: +10*
*Discovered Lore: The Guardians protect the temple from the unworthy*
*Discovered Lore: Dark forces beyond the Shadow Order exist*

The illuminated path before you pulses with invitation. Following it, the ancient trees part as if in welcome.

**What do you do?**`,

  templeLocation: `Following the illuminated path deeper into the Forbidden Forest, time seems to lose meaning. The trees tower impossibly high, and the bioluminescent vines create a dreamlike canopy above you. Hours passâ€”or perhaps only minutes; in this place, neither measure feels reliable.

Then the trees open into a clearing, and you see it.

The **Lost Temple of Zar'an** rises before youâ€”a structure that defies mortal architecture. Its towers twist upward in spiraling patterns that hurt to look at directly. The walls are covered in glowing runes, each one pulsing with inner light like a heartbeat. The entrance is a massive archway carved with images of robed figures performing rituals under celestial bodies.

"By the ancient gods," Kael breathes, voice filled with reverence. "It's real. It's actually real."

But something is terribly wrong. The temple's glow flickers erratically, like a candle struggling against wind. And you can hear voicesâ€”rough, commanding, aggressiveâ€”coming from somewhere inside the temple.

"The Shadow Order," Kael whispers, hand tightening on their sword. "They're already here. They must have found another route."

You can see two possible approaches:
1. A **lower entrance**â€”crumbling stone covered in vines, dark and unguarded
2. The **main archway**â€”grand and imposing, but with guards visible within

*Current Location: Lost Temple of Zar'an*
*Encountered: Shadow Order Operatives (Inside Temple)*

Kael looks to you. "We can try stealth through the lower entrance, or create a distraction. Your call, partner. What's your instinct telling you?"

**What do you do?**`,

  sneak: `"Stealth," you whisper. "We're outnumbered."

Kael nods approvingly. "Good head on your shoulders."

You both approach the temple carefully, staying low in the shadows. The lower entrance becomes visibleâ€”crumbling stone, vines covering the opening, clearly unguarded and probably forgotten by whoever built this place.

Kael produces what looks like a torch, but when ignited, it glows with soft, ghostly illuminationâ€”no heat, no smoke. "Shadow-light," Kael explains quietly. "It won't draw attention like normal fire."

Inside, the tunnel is narrow and cold. Your footsteps echo despite your caution, the sound of boots on ancient stone. The air tastes of dust, time, and ancient magic. You press deeper into the darkness.

After what feels like an eternity, the tunnel opens into a vast underground chamber. Your breath catches.

The walls are covered in shelvesâ€”thousands upon thousands of ancient tomes, scrolls, and artifacts. A *library of forgotten knowledge*, preserved by time and magic itself. This is a repository of secrets that would make scholars weep with joy.

In the center of the chamber sits a marble pedestal. On it rests an **ornate crystal orb**â€”easily the size of a fist, glowing with inner light that seems to contain entire constellations.

But the chamber is not empty. Three Shadow Order operatives stand guard, positioned strategically around the pedestal. Two are armed with swords, one with what looks like a staff of dark wood.

Kael points silently to a shadow-covered ledge high above the chamberâ€”a possible route to cross undetected and reach the orb from above.

*Stealth Check: High Difficulty*
*Possible Route: High Ledge (Risky but possible)*

**What do you do?**`,

  distraction: `"Create a distraction," you suggest, mind racing. "Make them come to us."

Kael's lips curl into a dangerous smileâ€”the expression of someone who's been waiting for this moment. "I like how you think, adventurer. Boldness. I respect that."

You both circle around to a pile of ancient stones near the temple's outer wall. Kael hefts one and hurls it with surprising force. It crashes through a high window of the temple with tremendous force.

The explosion of shattering glass echoes like thunder.

Inside, you hear immediate chaos. Shouts. Heavy footsteps. Guards rushing toward the sound of the breaking window, shouting commands to investigate the breach.

"Now! While they're distracted!" Kael hisses.

You slip through the main temple entrance like shadows. The guards have all rushed toward the window, leaving the back corridor completely undefended. Your heart pounds as you move quietly through the temple.

Then you see it: a door marked with ancient runes glowing faintly in the darkness. Something tells you this is importantâ€”the *inner sanctum*, perhaps. The very heart of the temple.

Behind you, you hear the guards realizing the deception. Angry shouts. They're regrouping, figuring out they've been tricked.

The sound of armored feet running toward you grows louder.

*Alert Level: CRITICAL*
*Time Remaining: ~30 seconds*

You have maybe seconds before they find you. The rune-marked door is right there.

**What do you do?**`,

  innerSanctum: `You rush toward the rune-marked door with Kael close behind. Your hands touch the ancient woodâ€”and it swings open instantly, as if it's been waiting for you, watching, expecting.

Inside is a chamber bathed in starlight. The ceiling isn't stoneâ€”it's somehow transparent, showing a night sky filled with constellations you've never seen. At the center of the chamber floats the **Crystal of Zar'an**â€”a gem the size of a fist, pulsing with power that predates civilization itself. It's beautiful and terrifying.

The moment you cross the threshold, the door SLAMS shut behind you with finality. Not imprisoningâ€”*protecting*. The ancient magic seals you inside.

Kael approaches the crystal cautiously, as if it might bite. "This is what the Shadow Order seeks. If they activate it with dark intent..." They don't finish, but the implication hangs heavy as a tomb stone.

You can feel the power radiating from the crystal. It's *calling* to youâ€”ancient and wise, offering to share its knowledge, its power, its secrets. Your mind touches the edge of that consciousness and recoils slightly at the sheer scope of it. This crystal has witnessed millennia.

Outside the chamber, you hear guards pounding on the doorâ€”frantic, angry, desperate. The door holds firm. *For now.*

*Current Location: Inner Sanctum of Zar'an*
*Discovered Artifact: The Crystal of Zar'an (Ancient Power Source)*
*Door Status: Magically Sealed (Will hold for ~5 minutes)*

Kael turns to you, eyes wide. "This is the crucial moment. This artifact contains the knowledge of an entire civilization. If the Shadow Order gets it, they could remake the world in darkness. But if we destroy it, we might lose knowledge that could save countless lives."

The crystal continues to pulse, each beat seeming to echo in your very soul.

**What do you do?**`,

  crystalTake: `"We take it," you decide. "Knowledge is power. The Shadow Order can't have this."

You step toward the crystal carefully. The moment your hand touches it, the world *explodes* into sensation.

Visions flood your mindâ€”ancient mages performing rituals under starlight, civilizations rising and falling like tides, the Shadow Order's true origin (not merely villains, but corrupted guardians who lost faith), and something elseâ€”*something vast waking in the deep places of the world*.

You stagger backward, gasping. Kael catches you.

"What did you see?" they ask urgently.

"Everything," you manage. "And nothing. The crystal... it's alive. Conscious. And it's been waiting for someone toâ€”"

The door EXPLODES inward.

Shadows pour into the chamberâ€”not guards, but *corrupted versions* of the forest creatures you saw outside. The Shadow Order has dark magic indeed.

But something miraculous happens. The crystal rises from its pedestal and flies to your hand, settling into your grip as if it belongs there. The moment you hold it, you feel *power* course through you. Not corrupting, but *clarifying*â€”as if you've suddenly understood something fundamental about yourself.

The corrupted creatures hesitate, confused. The crystal's light repels their darkness.

Kael draws their blade. "Run! Use the crystal's power! I'll hold them off!"

Behind you, the chamber has another exitâ€”an ancient passage leading down, deeper into the earth. The way ahead glows faintly with the crystal's light.

*Obtained: Crystal of Zar'an*
*Health Restored: 100/100*
*New Ability Unlocked: Crystal Attunement (The crystal amplifies your connection to magic)*
*Relationship with Kael: +15 (They trust you completely now)*

**What do you do?**`,

  crystalDestroy: `"It has to be destroyed," you say, voice heavy with the weight of that decision. "Power this great... it corrupts. Even with good intentions, eventually someone will abuse it."

Kael's expression is conflicted, but they nod slowly. "You might be right. The Resistance has learned that lesson the hard way. Power is a burden."

You raise your hand, reaching for the crystal. As your fingers close around it, you feel the vast consciousness within itâ€”millions of years of awareness, watching, waiting. And you feel its... *sadness*. The crystal doesn't want to end. But it understands.

You focus all your will, all your intention on one thought: *dispersion*. Return to the earth. Return to the stars. Become whole again.

The crystal begins to shatterâ€”not violently, but like a musical note fading into silence. Each fragment glows brightly before dispersing as pure light, spreading through the chamber like fireflies. The light passes through the walls themselves, returning to the world it came from so long ago.

The void it leaves feels... peaceful.

But the Shadow Order operatives have broken through the door. They see what you've done and let out a collective shriek of rage and despair.

"No! The artifact! Centuries of planningâ€”"

Kael moves with deadly grace, blocking the entrance. "Go! The path downâ€”it leads to the Old Way. Use it!"

Behind you, an ancient passage glows faintly. Your instincts scream to run.

*Destroyed: Crystal of Zar'an*
*Shadow Order: Severely Weakened (No artifact to corrupt them further)*
*Relationship with Kael: +10 (They respect your sacrifice)*
*Discovered Lore: The Resistance has fought the Shadow Order for centuries*

**What do you do?**`,

  escapeTemple: `You run down the ancient passage with Kael close behind. The path glows faintly with phosphorescent moss, lighting your way through the darkness. Behind you, the sounds of pursuit echoâ€”armored boots, angry shouts, the crackle of dark magic.

The passage descends deeper and deeper into the earth. You run until your lungs burn, until your legs feel like they might give out beneath you.

Then the passage opens into an immense underground cavern.

Your footsteps echo across stone as you skid to a halt. What you see steals your breath.

An *underground city*â€”or the ruins of one. Towers of white stone rise from the cavern floor, connected by graceful bridges. Bioluminescent fungi paint the walls in shades of blue and green. At the center sits what looks like a colossal tree, made entirely of stone and crystal, its roots spreading across the cavern like veins.

"The Old City," Kael breathes. "The city that existed before recorded history. The Shadow Order was supposed to guard it, not destroy it. No wonder they've gone so wrong."

A sound stops you bothâ€”not the pursuing guards, but something else. A deep, resonant voice that seems to come from the stone city itself.

"For a thousand years, we have waited. A seeker who chose wisdom over power. A guardian who chose sacrifice over dominion. Welcome, travelers, to the heart of Eldoria."

The crystal tree begins to glow, brighter and brighter, until the entire cavern is bathed in soft light. The pursuing guards skid to a halt at the cavern entrance, stunned into silence.

*Current Location: The Old City (Hidden from the world above)*
*Encountered: The Custodian of the Old City (Ancient Entity)*
*Story Arc: Reaching Final Confrontation*
*Turns Completed: {turnCount}*

The Custodian's voice continues: "The Shadow Order will retreat. They cannot stand against the power awakening here. But know thisâ€”your choices have set events in motion that will echo across millennia. You have become part of Eldoria's fate."

Kael looks at you with newfound respect. "Partner, I think you just saved the world. Or at least, gave it a fighting chance."

**MINI-ARC COMPLETE: The Temple's Secret**

This has been an epic adventure through the Realm of Eldoria. Your choicesâ€”whether you chose trust, stealth, distraction, or wisdomâ€”shaped the story. The Shadow Order has been defeated, at least for now. The Old City has been rediscovered.

Would you like to:
1. **Continue the adventure** deeper into the mysteries of the Old City?
2. **Return to reality** and reflect on your journey?
3. **Start a new adventure** in a different part of Eldoria?

**What would you like to do?**`,
};

export const skillChecks = {
  stealth: {
    difficulty: 'high',
    description: 'Move silently through the chamber',
    success: 'You move like a shadow, undetected',
    failure: 'A guard hears you and turns',
  },
  strength: {
    difficulty: 'medium',
    description: 'Break through the sealed door',
    success: 'Your power shatters the ancient lock',
    failure: 'The door resists your force',
  },
  intelligence: {
    difficulty: 'high',
    description: 'Understand the runes on the door',
    success: 'The runes reveal their secrets',
    failure: 'The symbols remain mysterious',
  },
  charisma: {
    difficulty: 'medium',
    description: 'Negotiate with the Shadow Guardian',
    success: 'The guardian respects your words',
    failure: 'The guardian remains hostile',
  },
  perception: {
    difficulty: 'medium',
    description: 'Notice the hidden passage',
    success: 'You spot the concealed exit, glowing faintly with ancient magic',
    failure: 'The passage remains hidden in shadow',
  },
};

export const npcCharacters = {
  kael: {
    name: 'Kael',
    role: 'Mysterious Ally',
    description: 'A hooded figure with silver scars and urgent mission',
    personality: 'Secretive, determined, trustworthy',
    baseRelationship: 0,
  },
  shadowGuardian: {
    name: 'Shadow Guardian',
    role: 'Forest Protector',
    description: 'An ancient spirit between worlds',
    personality: 'Wise, ancient, fair',
    baseRelationship: 0,
  },
  custodian: {
    name: 'The Custodian',
    role: 'Ancient Entity',
    description: 'Consciousness of the Old City itself',
    personality: 'Ethereal, knowledgeable, patient',
    baseRelationship: 0,
  },
};

export const locations = {
  tavern: {
    name: 'The Weathered Ale House',
    description: 'A cozy tavern with warm firelight and rain-soaked windows',
    exits: ['main_street', 'kitchen', 'back_alley'],
  },
  forest: {
    name: 'The Forbidden Forest',
    description: 'Ancient trees and bioluminescent vines casting eerie light',
    exits: ['forest_entrance', 'temple_approach', 'old_city'],
  },
  temple: {
    name: 'Lost Temple of Zar\'an',
    description: 'A structure defying mortal architecture with glowing runes',
    exits: ['main_entrance', 'lower_entrance', 'inner_sanctum'],
  },
  oldCity: {
    name: 'The Old City',
    description: 'An underground city preserved by time and magic',
    exits: ['temple_passage', 'central_plaza', 'crystalline_depths'],
  },
};

export const inventory = {
  startingItems: ['worn_leather_pouch', 'traveling_clothes'],
  foundItems: {
    ancientMap: {
      name: 'Ancient Map',
      description: 'A worn parchment with strange symbols marking the temple location',
      rarity: 'legendary',
    },
    ancientDagger: {
      name: 'Ancient Dagger',
      description: 'Steel blade with strange runes etched along the edge',
      rarity: 'rare',
    },
    crystalOfZaran: {
      name: 'Crystal of Zar\'an',
      description: 'A fist-sized gem containing ancient cosmic power',
      rarity: 'legendary',
    },
    shadowLight: {
      name: 'Shadow-light Torch',
      description: 'A torch that glows without heat or smoke',
      rarity: 'uncommon',
    },
  },
};

export const storyBranches = {
  alliance: {
    name: 'The Ally Route',
    description: 'Trust Kael and work together against the Shadow Order',
    outcomes: ['hero_ending', 'sacrifice_ending', 'new_guardian_ending'],
  },
  solo: {
    name: 'The Solo Route',
    description: 'Reject help and face the temple alone',
    outcomes: ['pyrrhic_victory', 'forgotten_hero', 'lost_soul_ending'],
  },
  betrayal: {
    name: 'The Dark Route',
    description: 'Betray Kael and claim the crystal for yourself',
    outcomes: ['corrupted_ending', 'world_broken_ending', 'isolated_power_ending'],
  },
};

export const generateContextualResponse = (
  playerAction: string,
  currentTurn: number,
  inventory: string[]
): string => {
  const actionLower = playerAction.toLowerCase();

  // Early game (turns 0-5)
  if (currentTurn < 5) {
    if (
      actionLower.includes('grab') ||
      actionLower.includes('take') ||
      actionLower.includes('map')
    ) {
      return `You instinctively reach for the map. It's warm to the touch, pulsing with an inner energy. Kael nods approvingly. "Good instinct. That map is the key to everything."

The guards spot your movement. "Stop! In the Shadow Order's name, you're under arrest!"

Chaos erupts. What do you do?`;
    }
    if (actionLower.includes('ask') || actionLower.includes('question')) {
      return `"Who are you?" you ask carefully, not wanting to draw attention.

Kael glances around nervously. "Not now. We don't have time. But know thisâ€”the Shadow Order will kill to keep that map secret. If they find us..."

A guard points in your direction. Your time is running out.

What do you do?`;
    }
  }

  // Mid game (turns 5-10)
  if (currentTurn >= 5 && currentTurn < 10) {
    if (actionLower.includes('forest')) {
      return `You plunge into the Forbidden Forest. The moment you cross the threshold, the world transforms. The rain ceases. Bioluminescent vines cast ethereal light.

You hear Kael close behind you, breathing hard. "We made it. For now."

Ahead, the forest path splits in three directions, each shrouded in mystery.

What do you do?`;
    }
    if (
      actionLower.includes('rest') ||
      actionLower.includes('catch breath') ||
      actionLower.includes('breathe')
    ) {
      return `You collapse against an ancient tree, breathing heavily. Kael sits beside you, checking their wounds.

"That was close," they murmur. "Too close. The Shadow Order is more active than I expected."

After a few moments, your breathing steadies. You notice glowing stones forming a path deeper into the forestâ€”as if the forest itself is guiding you.

Ready to continue?`;
    }
  }

  // Late game (turns 10+)
  if (currentTurn >= 10) {
    if (actionLower.includes('temple')) {
      return `The Lost Temple of Zar'an rises before you. Ancient power radiates from it. You can feel something stirring insideâ€”something vast and ancient, awakening.

"This is it," Kael whispers. "The moment everything changes. Are you ready?"

What do you do?`;
    }
    if (actionLower.includes('crystal')) {
      return `The Crystal of Zar'an pulses with power. You can feel its consciousnessâ€”ancient, vast, patient. It's been waiting for this moment for millennia.

Your fingers brush the surface and visions flood your mind. The rise and fall of civilizations. The true history of the Shadow Order. Your own destiny.

What do you do?`;
    }
  }

  // Generic fallback
  return `Your action sends ripples through the fabric of Eldoria. The world responds...

${playerAction}

Time feels suspended as ancient magic responds to your choices. What happens next will echo through the ages.

What do you do?`;
};
